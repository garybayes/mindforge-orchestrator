<!DOCTYPE html>
<html>
  <head>
    <title>MindForge Orchestrator — Meta Dashboard</title>
    <style>
      body { font-family: Arial; background: #111; color: #eee; padding: 20px; }
      .repo { padding: 15px; margin: 20px 0; background: #222; border-radius: 8px; }
      .ok { color: #8f8; }
      .fail { color: #f88; }
      .unknown { color: #ff8; }
      h1 { color: #6cf; }
    </style>
  </head>
  <body>
    <h1>MindForge Orchestrator — Meta Dashboard</h1>

    <script>
      async function load() {
        const res = await fetch('./meta-dashboard.json');
        const data = await res.json();

        document.body.innerHTML += `<p>Generated at: ${data.generated_at}</p>`;

        Object.entries(data.repos).forEach(([id, r]) => {
          const color =
            r.status === "success"
              ? "ok"
              : r.status === "failure"
              ? "fail"
              : "unknown";

          document.body.innerHTML += `
            <div class="repo">
              <h2>${r.display_name}</h2>
              <p><strong>Repository:</strong> ${r.repo}</p>
              <p><strong>Workflow:</strong> ${r.workflow}</p>
              <p><strong>Status:</strong> <span class="${color}">${r.status}</span></p>
            </div>
          `;
        });
      }
      load();
    </script>
  </body>
</html>
